generator client {
  provider = "prisma-client-js"
  output   = "./generated/client"
}

datasource db {
  provider = "postgresql"
  url      = env("AUDIT_DATABASE_URL")
}

model AuditLog {
  id        String   @id @default(cuid())
  eventType String
  payload   Json
  userId    String?
  orgId     String?
  ip        String?
  userAgent String? //store devide/browser info
  createdAt DateTime @default(now())

  @@index([eventType])
  @@index([userId])
  @@index([orgId])
  @@index([createdAt])
}
